# ğŸ“Š Visual Architecture Guide - GestionPro

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          GESTION PRO APPLICATION                        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ANGULAR FRONTEND (v20)                       â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  ADMIN DASHBOARD    â”‚    â”‚  EMPLOYEE DASHBOARD          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚                              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Dashboard Tab    â”‚    â”‚ âœ“ Tasks Tab                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Projects Tab     â”‚    â”‚ âœ“ Projects Tab              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Tasks Tab âœ…     â”‚    â”‚ âœ“ Chat Tab                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Chat Tab âœ…      â”‚    â”‚ âœ“ Profile Tab               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Settings Tab     â”‚    â”‚                              â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              SERVICES LAYER                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ProjectServiceâ”‚  â”‚ TaskService  â”‚  â”‚ChatService   â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚âœ“ Create      â”‚  â”‚âœ“ Create      â”‚  â”‚âœ“ Send Msg    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚âœ“ Update      â”‚  â”‚âœ“ Assign âœ…  â”‚  â”‚âœ“ Get Msgs    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚âœ“ Delete      â”‚  â”‚âœ“ Update Sts  â”‚  â”‚âœ“ Converse    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚âœ“ Progress âœ… â”‚  â”‚âœ“ Comments    â”‚  â”‚âœ“ Read Sts    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚âœ“ Stats       â”‚  â”‚âœ“ Reassign    â”‚  â”‚âœ“ Unread Cnt  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚            DATA MODELS (TypeScript)                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  User | Project | Task | ChatMessage                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Conversation | Notification | Statistics               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                  â”‚
â”‚                          (RxJS Observable)                            â”‚
â”‚                                    â†•                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  FIREBASE BACKEND                              â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚              FIRESTORE DATABASE                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚users         â”‚projects      â”‚tasks         â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚              â”‚              â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ uid         â”‚â€¢ name        â”‚â€¢ title       â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ email       â”‚â€¢ admin       â”‚â€¢ project     â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ name        â”‚â€¢ status      â”‚â€¢ assignedâœ…  â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ role        â”‚â€¢ progressâœ…  â”‚â€¢ status      â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ created     â”‚â€¢ teamMbrs    â”‚â€¢ deadline    â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚â€¢ ...         â”‚â€¢ created     â”‚â€¢ comments    â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚â€¢ ...         â”‚â€¢ created     â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚              â”‚â€¢ ...         â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚              â”‚                        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   messages     conversations   notifications        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ senderId    â€¢ adminId      â€¢ userId              â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ contentâœ…   â€¢ employeeIdâœ… â€¢ type                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ timestamp   â€¢ lastMsgâœ…    â€¢ title               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ isRead      â€¢ unreadCntâœ…  â€¢ read                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ ...         â€¢ ...          â€¢ ...                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ REAL-TIME LISTENERS (Web Sockets)                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Message delivery (< 1 second)                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Task status changes (instant)                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Project progress updates (real-time)             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Notification badges (live)                       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Comment threads (sync)                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚                                                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”‚                                                          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Feature Implementation Map

### 1ï¸âƒ£ Chat System

```
                    ChatService
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“               â†“
   sendMessage    getConversations  getMessages
        â”‚               â”‚               â”‚
        â†“               â†“               â†“
    Firebase â†’ Real-time â†’ Display
    messages   Listeners   in UI
        â”‚
        â”œâ†’ Admin sees: Employees
        â””â†’ Employee sees: Admin
```

### 2ï¸âƒ£ Task Assignment

```
                    TaskForm
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“               â†“               â†“
    Project      Employee âœ…      Task Details
    Dropdown     Dropdown
        â”‚               â”‚               â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚
        â”‚                               â†“
        â”‚                    TaskService.createTask(
        â”‚                      projectId,
        â”‚                      adminId,
        â”‚                      employeeId,
        â”‚                      taskData
        â”‚                    )
        â”‚                               â†“
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Firestore: tasks
                     â”œâ”€ assignedTo: employeeId âœ…
                     â”œâ”€ assignedBy: adminId
                     â””â”€ ... other fields
                     
                               â†“
                    Notification Service
                     (Sends to employee)
```

### 3ï¸âƒ£ Project Progress

```
                   Employee
                        â†“
            Updates Task Status
                 (dropdown)
                        â†“
            TaskService.updateTaskStatus()
                        â†“
          Firestore: tasks (status="done")
                        â†“
        ProjectService.updateProjectProgress()
                        â†“
      Query tasks: count (done vs total)
                        â†“
    Calculate: (done / total) * 100
                        â†“
    Firestore: projects (update)
     â”œâ”€ taskCount
     â”œâ”€ completedTaskCount
     â””â”€ completionPercentage âœ…
                        â†“
        Admin Dashboard: Real-time update
             â”œâ”€ Progress bars
             â”œâ”€ Percentages
             â””â”€ Statistics
```

---

## Data Flow Diagrams

### Task Assignment Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin Dashboard        â”‚
â”‚   Tasks Tab              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "+ New Task" Button     â”‚
â”‚  Opens Form              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Task Form                               â”‚
â”‚  â€¢ Project: [Dropdown v]                 â”‚
â”‚  â€¢ Employee: [Dropdown v] â† SELECTION    â”‚
â”‚  â€¢ Title: [Input]                        â”‚
â”‚  â€¢ Description: [TextArea]               â”‚
â”‚  â€¢ Deadline: [Date Picker]               â”‚
â”‚  â€¢ Priority: [Dropdown v]                â”‚
â”‚  â€¢ [Create Task] [Cancel]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form Validation         â”‚
â”‚  All fields required     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
        YESâ”‚NO
        â”‚  â””â†’ Show Error Messages
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TaskService.createTask( â”‚
â”‚    projectId,            â”‚
â”‚    adminId,              â”‚
â”‚    employeeId,  â† KEY    â”‚
â”‚    taskData              â”‚
â”‚  )                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firestore: Create Doc   â”‚
â”‚  /tasks/{taskId}         â”‚
â”‚  {                       â”‚
â”‚    projectId: ...,       â”‚
â”‚    title: ...,           â”‚
â”‚    assignedTo: emp_id âœ… â”‚
â”‚    assignedBy: admin_id, â”‚
â”‚    status: "todo",       â”‚
â”‚    ...                   â”‚
â”‚  }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create Notification     â”‚
â”‚  /notifications/{docId}  â”‚
â”‚  {                       â”‚
â”‚    userId: employeeId,   â”‚
â”‚    type: "task-assigned",â”‚
â”‚    title: "New Task",    â”‚
â”‚    message: "...",       â”‚
â”‚    ...                   â”‚
â”‚  }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employee Dashboard      â”‚
â”‚  Receives Notification   â”‚
â”‚  Sees Task in List       â”‚
â”‚  "New task assigned"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Message Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin              â”‚
â”‚  (Admin Dashboard)  â”‚
â”‚  Chat Tab           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ Sees: List of Employees
         â”‚   â€¢ Jane Employee
         â”‚   â€¢ Bob Developer  (3 unread)
         â”‚   â€¢ Alice Designer
         â”‚
         â–¼
    Click: "Jane Employee"
         â”‚
         â–¼
    Display: Conversation with Jane
         â”œâ”€ Message History
         â”œâ”€ Input Field
         â””â”€ Send Button
         â”‚
         â”œâ”€ Type: "How is the design?"
         â”‚
         â–¼
    Press: Enter or Click Send
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ChatService.sendMessage() â”‚
â”‚                            â”‚
â”‚  {                         â”‚
â”‚    senderId: adminId,      â”‚
â”‚    senderName: "...",      â”‚
â”‚    senderRole: "admin",    â”‚
â”‚    recipientId: janeId,    â”‚
â”‚    content: "How...",  âœ…  â”‚
â”‚    timestamp: now(),       â”‚
â”‚    isRead: false,          â”‚
â”‚    convId: "admin_jane"    â”‚
â”‚  }                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    Firestore: /messages/{msgId}
         â”‚
         â–¼
    Update: /conversations/admin_jane
         â””â”€ lastMessage: "How..."
         â””â”€ lastMessageTime: now()
         â””â”€ unreadCount++
         â”‚
         â–¼
    Real-time Listener Fires
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employee (Jane)   â”‚
â”‚  Receives Update   â”‚
â”‚  Message appears   â”‚
â”‚  in Chat history   â”‚
â”‚                    â”‚
â”‚  "Admin: How is    â”‚
â”‚   the design?"     â”‚
â”‚                    â”‚
â”‚  Input field...    â”‚
â”‚  [Type reply...]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Progress Update Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Employee Dashboard      â”‚
â”‚  My Tasks Tab            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Task Card               â”‚
â”‚  "Design Homepage"       â”‚
â”‚  Status: [in-progress v] â”‚
â”‚                          â”‚
â”‚  Employee changes to:    â”‚
â”‚  "done"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TaskService.            â”‚
â”‚  updateTaskStatus(       â”‚
â”‚    taskId,               â”‚
â”‚    "done",               â”‚
â”‚    100  â† percentage      â”‚
â”‚  )                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firestore Update        â”‚
â”‚  /tasks/{taskId}         â”‚
â”‚  â”œâ”€ status: "done"       â”‚
â”‚  â”œâ”€ completionPercent: 100
â”‚  â””â”€ updatedAt: now()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Trigger:                â”‚
â”‚  ProjectService.         â”‚
â”‚  updateProjectProgress() â”‚
â”‚  (projectId)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    Query: Get all tasks
      for this project
           â”‚
    Count:
    â€¢ Total tasks: 10
    â€¢ Done tasks: 4 (before)
                  5 (now) âœ…
           â”‚
           â–¼
    Calculate:
    completion = (5 / 10) * 100
               = 50%
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Firestore Update        â”‚
â”‚  /projects/{projectId}   â”‚
â”‚  â”œâ”€ taskCount: 10        â”‚
â”‚  â”œâ”€ completedCount: 5    â”‚
â”‚  â”œâ”€ percentage: 50 âœ…    â”‚
â”‚  â””â”€ updatedAt: now()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Real-time Listener      â”‚
â”‚  in Admin Dashboard      â”‚
â”‚  Fires Update            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Admin Dashboard         â”‚
â”‚  Dashboard Tab           â”‚
â”‚                          â”‚
â”‚  Project Progress:       â”‚
â”‚  Website Redesign        â”‚
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 50% âœ… Updated â”‚
â”‚  (was 40% before)        â”‚
â”‚  5/10 tasks done âœ…      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Communication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Admin Dashboard Component                     â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  @signal activeTab = 'dashboard'                 â”‚  â”‚
â”‚  â”‚  @signal projects = [...]                        â”‚  â”‚
â”‚  â”‚  @signal tasks = [...]                           â”‚  â”‚
â”‚  â”‚  @signal employees = [...]                       â”‚  â”‚
â”‚  â”‚  @signal conversations = [...]                   â”‚  â”‚
â”‚  â”‚  @signal dashboardStats = {...}                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Dashboardâ”‚  â”‚ Projects â”‚  â”‚  Tasks   â”‚  ... Chat   â”‚
â”‚  â”‚   Tab    â”‚  â”‚   Tab    â”‚  â”‚  Tab âœ…  â”‚   Tab âœ…    â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚             â”‚
â”‚  â”‚ displays â”‚  â”‚ displays â”‚  â”‚ displays â”‚             â”‚
â”‚  â”‚ stats    â”‚  â”‚ projects â”‚  â”‚ tasks    â”‚             â”‚
â”‚  â”‚ progress â”‚  â”‚ with     â”‚  â”‚ with     â”‚             â”‚
â”‚  â”‚ timeline â”‚  â”‚ Create   â”‚  â”‚ emp âœ…   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Delete   â”‚  â”‚ selector â”‚             â”‚
â”‚                â”‚ Update   â”‚  â”‚ Create   â”‚             â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Edit     â”‚             â”‚
â”‚                                â”‚ Delete  â”‚             â”‚
â”‚                                â”‚ Update  â”‚             â”‚
â”‚                                â”‚ Status  â”‚             â”‚
â”‚                                â”‚ Commentsâ”‚             â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â”‚  All components use Services:                          â”‚
â”‚  â€¢ ProjectService                                      â”‚
â”‚  â€¢ TaskService                                         â”‚
â”‚  â€¢ ChatService                                         â”‚
â”‚  â€¢ AuthService                                         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Journey Map

### Admin User Journey

```
1. Login
   â†“
2. Admin Dashboard Loads
   â”œâ”€ Verify role = 'admin'
   â””â”€ Load: projects, employees, stats
   â†“
3. Dashboard Tab (Default)
   â”œâ”€ See overview statistics
   â”œâ”€ See project progress timeline
   â””â”€ Understand current status
   â†“
4. Projects Tab
   â”œâ”€ View all projects
   â”œâ”€ Click "+ New Project"
   â”œâ”€ Fill form & Create
   â””â”€ Project added to list
   â†“
5. Tasks Tab
   â”œâ”€ Click "+ New Task"
   â”œâ”€ Select Project dropdown
   â”œâ”€ **Select Employee dropdown** â† NEW
   â”œâ”€ Fill task details
   â”œâ”€ Click "Create Task"
   â””â”€ Task assigned to employee
   â†“
6. Chat Tab
   â”œâ”€ See conversation list
   â”œâ”€ Click employee name
   â”œâ”€ View message history
   â”œâ”€ Type & send message
   â””â”€ Receive instant reply
   â†“
7. Back to Dashboard
   â”œâ”€ See updated progress
   â”œâ”€ Progress reflects task completion
   â””â”€ Make informed decisions
   â†“
8. Logout
```

### Employee User Journey

```
1. Login
   â†“
2. Employee Dashboard Loads
   â”œâ”€ Verify role = 'employee'
   â”œâ”€ Load: assigned tasks, projects
   â””â”€ Load: notifications
   â†“
3. Tasks Tab (Default)
   â”œâ”€ See assigned tasks
   â”œâ”€ See filter buttons
   â””â”€ Filter by status
   â†“
4. Select a Task
   â”œâ”€ View task details
   â”œâ”€ See deadline & priority
   â”œâ”€ See admin's comments
   â””â”€ Add own comment
   â†“
5. Update Task Status
   â”œâ”€ Change status dropdown
   â”œâ”€ From: To Do
   â”œâ”€ To: In Progress
   â””â”€ Or to: Done
   â†“
6. Continue Work
   â”œâ”€ Project progress updates
   â””â”€ Admin sees progress
   â†“
7. Chat Tab
   â”œâ”€ Open admin conversation
   â”œâ”€ View message history
   â”œâ”€ Send message to admin
   â””â”€ Receive instant reply
   â†“
8. Projects Tab
   â”œâ”€ View assigned projects
   â”œâ”€ See project progress
   â””â”€ Understand team context
   â†“
9. Profile Tab
   â”œâ”€ View personal statistics
   â”œâ”€ See task completion rate
   â””â”€ Track performance
   â†“
10. Logout
```

---

## Real-Time Synchronization

```
User A (Admin)          Real-time Sync          User B (Employee)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Updates task            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º        Sees update
Creates task            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º        Notification
Sends message           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º        Message appears
                                                 Replies

                        â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        Updates status
                                                 Sends comment
Views progress          â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        Completes task
Sees reply              â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        Sends message
Updates project         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        Task complete
```

---

## Database Query Patterns

### Get Admin's Projects
```javascript
WHERE adminId == currentUserId
ORDER BY createdAt DESC
â†’ Observable<Project[]>
```

### Get Employee's Tasks
```javascript
WHERE assignedTo == currentUserId
ORDER BY deadline ASC
â†’ Observable<Task[]>
```

### Get Conversations for Admin
```javascript
WHERE adminId == currentUserId
ORDER BY lastMessageTime DESC
â†’ Observable<Conversation[]>
```

### Get Messages in Conversation
```javascript
WHERE conversationId == "admin_emp"
ORDER BY timestamp ASC
â†’ Observable<ChatMessage[]>
```

### Calculate Project Progress
```javascript
Query: tasks WHERE projectId == projectId
Calculate: (count status='done') / (total count) * 100
Update: projects.completionPercentage
```

---

## Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Real-time Listeners                        â”‚
â”‚                                             â”‚
â”‚  âœ… Projects: Listen once on load           â”‚
â”‚  âœ… Tasks: Listen when tab active           â”‚
â”‚  âœ… Messages: Listen in chat tab            â”‚
â”‚  âœ… Unsubscribe on component destroy        â”‚
â”‚                                             â”‚
â”‚  takeUntilDestroyed() handles cleanup       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Caching                               â”‚
â”‚                                             â”‚
â”‚  âœ… Store projects in signal                â”‚
â”‚  âœ… Store tasks in signal                   â”‚
â”‚  âœ… Store employees in signal               â”‚
â”‚  âœ… Update on subscription changes          â”‚
â”‚                                             â”‚
â”‚  Signals auto-update UI                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Query Optimization                         â”‚
â”‚                                             â”‚
â”‚  âœ… Filter in database (WHERE clauses)      â”‚
â”‚  âœ… Order in database (ORDER BY)            â”‚
â”‚  âœ… Limit results per page                  â”‚
â”‚  âœ… Index frequently queried fields         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

**Three Key Features Implemented:**

1. âœ… **Chat System** - Real-time admin â†” employee messaging
2. âœ… **Task Assignment** - Admin selects specific employee
3. âœ… **Progress Tracking** - Real-time project progress

**All Features:**
- Fully integrated with Firebase
- Real-time synchronization
- Professional UI implementation
- Complete documentation

**Status:** ğŸ‰ Production Ready!
